<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
  <style>
  .queue-li{
  	    list-style: none;
    display: inline-block;
    width: 50px;
    height: 30px;
    background-color: #AD7676;
    margin: 0 10px;
  }

  </style>
<body>

 <div>
    <label>输入待插入数字：<input id="num-input" type="text"></label><br>
	<button id="leftIn-btn" class="in left">左侧入</button>
	<button id="rightIn-btn" class="in right">右侧入</button>
	<button id="leftOut-btn" class="out left">左侧出</button>
	<button id="rightOut-btn" class="out right">右侧出</button>
  </div>
  <ul id="queue-ul"> 
  </ul>

<script type="text/javascript">

var queueData=[];

//输入数字验证
function testNum(num){
	var param=true;
	var rNum=/^\d+$/;
	if(!num){
		alert("不能为空");
		param=false;
	}else if(!rNum.test(num)) {
		alert("请输入数字");
		param=false;
	}else
		param=true;
	return param;

}

// 渲染队列
function renderQueue(){
	//alert(queueData);
	var str="";
	for(var i=0,len=queueData.length;i<len;i++){
		str+="<li class='queue-li'>"+queueData[i]+"</li>";
	}
	document.getElementById("queue-ul").innerHTML=str;

}

//渲染队列数据
function renderQueueData(btnCla,num){
	var classArr=btnCla.split(" ");
	if(classArr[0]=="in"&&classArr[1]=="left"){
		queueData.splice(0,0,parseInt(num));
	}else if(classArr[0]=="in"&&classArr[1]=="right"){
		queueData.push(parseInt(num));
	}else if(classArr[0]=="out"&&classArr[1]=="left"){
		queueData.splice(0,1);
	}else{
		queueData.splice(queueData.length-1,1);
	}
	renderQueue();

}




var btns=document.getElementsByTagName("button");
for(var i=0,len=btns.length ;i<len;i++){
	btns[i].addEventListener("click",function(){
	var btnClass=this.className;
	//console.log(btnClass);
	var num=document.getElementById("num-input").value;
	if(testNum(num)){
			renderQueueData(btnClass,num);
		}
	});
}


</script>
</body>
</html>